(this.webpackJsonplambda=this.webpackJsonplambda||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);n(11);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),l=(n(16),n(1)),s=n(7),c=n(6),u=n(3),d=n(2),h=n(5),f=n(4),m=(n(17),function e(t){Object(l.a)(this,e),t=function(e){var t,n;do{t=e;var a=v(e),i=Object(f.a)(a,1);n=i[0],e=e.slice(1,-1)}while(e===n);return t}(t)}),b=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=e.indexOf(".");if(2!==a||void 0===e[a+1])throw"Malformed lambda expression!";var i=e.slice(a+1);return n.lambdaIdent=e[e.indexOf("\\")+1],n.expressionList=new p(i),n}return Object(h.a)(t,e),t}(m),p=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a,i=e,o=v(e),r=Object(f.a)(o,2);if(i=r[0],a=r[1],"\\"===i[0])n.lambda=new b(i),a.length>0&&(n.expressionList=new t(a));else{n.ident=i[0];var s=i.slice(1)+a;s.length>0&&(n.expressionList=new t(s))}return n}return Object(h.a)(t,e),t}(m);function v(e,t){void 0===t&&(t=0);var n=0;if("("!==e.charAt(t))return[e,""];for(var a=++t;t<e.length+1;t++){if(")"===e.charAt(t)){if(0===n)return[e.slice(a,t),e.slice(t+1)];n--}"("===e.charAt(t)&&n++}throw"Mismatched parentheses!"}var w={Tree:function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).expressionList=new p(e),n}return Object(h.a)(t,e),t}(m)},y=["lambda","expressionList","ident"];function g(e){var t="";return void 0!==e&&(void 0!==e.lambda&&(t+="(",void 0!==e.lambda&&(t+="\\",t+=e.lambda.lambdaIdent,t+=".",t+=g(e.lambda)),t+=")"),void 0!==e.ident&&(t+=e.ident),void 0!==e.expressionList&&(t+=g(e.expressionList))),t}var E=function(e,t){if(void 0!==e.lambda&&void 0!==e.expressionList){var n=e;return[!0,e=function(e,t){var n=t.lambda;if(void 0===n.expressionList)throw"Lambdas need to be applied to something!";var a=n.lambdaIdent;(function e(t,n,a){return Object.keys(t).forEach((function(i){if(y.includes(i)&&void 0!==t[i]){var o=a(t[i],i);void 0!==o&&(n=n.concat(o)),e(t[i],n,a)}})),n})(n,[],(function(t,n){return void 0!==t&&t.ident===a&&(t.ident=void 0,void 0!==e.lambda&&(t.lambda=e.lambda),void 0!==e.ident&&(t.ident=e.ident)),t})),t.expressionList=t.expressionList.expressionList,void 0!==t.lambda.expressionList?(t=t.lambda.expressionList,x(e.expressionList,t)):(x(t.expressionList,t.lambda.expressionList),t.expressionList=t.lambda.expressionList,t.lambda=void 0);return t}(e.expressionList,n)]}return[!1,e]};function x(e,t){if(void 0===t||void 0===e)return t;if(void 0===t.expressionList)t.expressionList=e;else{var n=t.expressionList;t.expressionList=x(e,n)}return t}function k(e){return function e(t,n){console.log("tree: ".concat(g(t)));var a=!1;do{a=!1,Object.keys(t).forEach((function(i){if(y.includes(i)&&void 0!==t[i]&&!a){var o=n(t[i],i),r=Object(f.a)(o,2);a=r[0],t[i]=r[1],a||e(t[i],n)}}))}while(a)}(e,E),e}function j(e){var t;try{return k(t=new w.Tree(e)),g(t)}catch(n){return"Failed to parse! \nError: ".concat(n)}}var I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("in"),n=t.value;t.value="";var a=n,i=n.toLowerCase();return i.startsWith("commands")?a="test: runs some pre-built tests I set up to verify that everything is in order\ninfo: displays a bunch of information about this console\ncommands: I hope you've figured this one out by now\n":i.startsWith("test")?a=function(){var e="",t=[["(\\a.a)b","b"],["(\\a.a)(\\x.\\y.xy)(\\h.h)p","p"],["(\\w.\\y.\\x.y(wyx))(\\s.\\z.sz)","(\\y.(\\x.yyx))"],["potato","potato"]],n=t.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],i=j(n);return i!==a?"Input: ".concat(n,"\nExpected: ").concat(a,"\nActual: ").concat(i,"\n"):i})),a=n.filter((function(e){return e.startsWith("Input: ")}));return 0===a.length?(e+="Passed every test case!\n\n",t.map((function(t,a){var i=Object(f.a)(t,2),o=i[0];i[1];e+="Input: ".concat(o,"\nResult: ").concat(n[a],"\n")}))):a.map((function(t){return e+=t})),e}():i.startsWith("info")?a="There's a lot here! This frankly took way, way too long to make. A few notes to start. First, if you're not familiar with the lambda calculus, you can read up on it on its wikipedia page, which, unlike how Wikipedia handles most mathematical topics, is actually a solid introduction.\n\nSecond, this evaluator does feature fairly robust interpretation of the lambda calculus, but is missing symbolic substitution. This means that, for example, (\\y.xy)x causes the y in the body to be replaced by an x, for a final result of xx, which is wrong. If you name your variables appropriately, this should rarely if ever be an issue, but be aware of it.\n\nThird, my checks for malformed input are fine, but not crazy robust, so don't expect your browser tab not to freeze if you put nonsense in, what with all the recursion going on to make this thing work.\n\nFinally, if you just want to get to the point, type 'test' to see some test cases I set up which are complex and varied enough to pretty well verify that this thing works. Otherwise, type 'commands' to get started!\n\nOh, and, uh, I definitely overdid this... I got just a bit obsessed. It was a lot of fun at least!\n":a.length>0&&(a=j(a)),a+="\n",this.setState({outText:a+this.state.outText}),!1},n.handleInput=n.handleInput.bind(Object(d.a)(n)),n.toggleInfo=n.toggleInfo.bind(Object(d.a)(n)),n.getInfo=n.getInfo.bind(Object(d.a)(n)),n.state={outText:"Type 'info' to learn about this if you haven't yet!\n",info:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"toggleInfo",value:function(){this.setState({info:!this.state.info})}},{key:"getInfo",value:function(){return this.state.info?i.a.createElement("div",{id:"shownInfo"},"(click to hide) ",i.a.createElement("br",null),"This took ages. It was less than 100 hours, but more than 50; a ton of the code for this was insanely abstract. As I mention in the info, I really do not encourage such a high expectation from my future class projects. I just thought this would be fun to make - and while I was right, and I learned an absurd amount, I also dumped a crazy amount of time into it. I'm really proud of the final result, though. The very first result I found online for a lambda calculus evaluator doesn't even correctly apply the successor function to the representation for 1! But this does. I'm pretty sure this will give correct answers except when alpha conversion is necessary.",i.a.createElement("br",null),i.a.createElement("br",null),"While making this, I learned:",i.a.createElement("ul",null,i.a.createElement("li",null,"how to use create-react-app"),i.a.createElement("li",null,"how to use React"),i.a.createElement("li",null,"a bit about CSS"),i.a.createElement("li",null,"a lot about the methods under Object"),i.a.createElement("li",null,"how to define a package, in practice"),i.a.createElement("li",null,"how to define a formal grammar"),i.a.createElement("li",null,"a lot about the lambda calculus"),i.a.createElement("li",null,"how to use the in-browser debugger"),i.a.createElement("li",null,"how to debug recursive functions (carefully)"),i.a.createElement("li",null,"how to structure a program and not have it explode"),i.a.createElement("ul",null,i.a.createElement("li",null,"model-view separation (the original version didn't have this, it was awful)"),i.a.createElement("li",null,"escape React as soon as possible, unidirectional data flow is a trap"),i.a.createElement("li",null,"even if you only use a function once, separation of concerns is important"),i.a.createElement("li",null,"write pseudocode for the tricky parts or logic errors will be frequent and far more difficult to debug"),i.a.createElement("li",null,"don't be afraid to rewrite things that don't work")),i.a.createElement("li",null,"as well as several quirks of Javascript, such as:"),i.a.createElement("ul",null,i.a.createElement("li",null,"undefined is its own type, but null is an object for some reason"),i.a.createElement("li",null,"JS is pass by value, but objects as arguments pass references"),i.a.createElement("li",null,"undefined is surprisingly useful for indeterminate traversals"))),i.a.createElement("br",null),"This was honestly a bit of a treat. I really loved making it."):i.a.createElement("div",{id:"hiddenInfo"},i.a.createElement("center",null,"Click to reveal a whole bunch of non-critical info!",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),"Note: App.js, lambda.css, and tree.js were made by me. All but scattered fragments of the remainder was generated by create-react-app."))}},{key:"render",value:function(){return i.a.createElement("div",{className:"display"},i.a.createElement("form",{onSubmit:this.handleInput,action:"#"},i.a.createElement("input",{type:"text",spellCheck:"false",autoComplete:"off",id:"in"}),i.a.createElement("textarea",{spellCheck:"false",rows:"15",disabled:!0,value:this.state.outText,id:"out"}),i.a.createElement("input",{type:"submit",value:"heck",style:{visibility:"hidden"}})),i.a.createElement("div",{id:"info",onClick:this.toggleInfo},this.getInfo()))}}]),t}(i.a.Component);function O(e){return"beta"===e.enabled?i.a.createElement("div",{id:"beta"},i.a.createElement("div",{id:"collapseButton",onClick:e.collapse},i.a.createElement("div",{id:"back"},"<","-- Go Back")),i.a.createElement(I,null)):i.a.createElement("div",{id:"images"},i.a.createElement("center",null,i.a.createElement("h1",null,"Projects - Click one to get started!"),i.a.createElement("img",{src:"beta.png",onClick:e.onClick,alt:"lambda calculus interpreter"}),i.a.createElement("h1",{className:"mt-5",id:"bottom"},"by Caleb Spiess/Gigabitten")))}var L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).betaEnable=n.betaEnable.bind(Object(d.a)(n)),n.collapse=n.collapse.bind(Object(d.a)(n)),n.state={enabled:"none"},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"betaEnable",value:function(){this.setState({enabled:"beta"})}},{key:"collapse",value:function(){this.setState({enabled:"none"})}},{key:"render",value:function(){return i.a.createElement("div",{className:"container-fluid app"},i.a.createElement("div",{className:"row d-flex justify-content-center"},i.a.createElement("div",{className:"col-sm-11 m-3"},i.a.createElement("div",{id:"choices"},i.a.createElement(O,{collapse:this.collapse,onClick:this.betaEnable,enabled:this.state.enabled})))))}}]),t}(i.a.Component),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(i.a.createElement(L,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");C?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):T(t,e)}))}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.2416feab.chunk.js.map